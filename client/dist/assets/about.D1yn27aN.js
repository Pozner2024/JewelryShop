document.addEventListener("DOMContentLoaded",()=>{const c=document.getElementById("about-content-display"),e=document.getElementById("edit-about-btn"),n=document.getElementById("save-about-btn"),o=document.getElementById("cancel-about-btn");function d(){const t=tinymce.get("about-content-editor");t&&t.show(),c.style.display="none",e.style.display="none",n.style.display="inline-block",o.style.display="inline-block"}function l(){const t=tinymce.get("about-content-editor");t&&t.hide(),c.style.display="block",e.style.display="inline-block",n.style.display="none",o.style.display="none"}e&&e.addEventListener("click",()=>{tinymce.get("about-content-editor")?d():tinymce.init({selector:"#about-content-editor",plugins:"code link lists table",toolbar:"undo redo | blocks | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | link | code",height:500,setup:function(i){i.on("init",function(){d()})}})}),o&&o.addEventListener("click",()=>{l()}),n&&n.addEventListener("click",async()=>{const t=tinymce.get("about-content-editor");if(!t){alert("Editor not found!");return}const i=t.getContent();try{(await fetch("/about/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:i})})).ok?(c.innerHTML=i,l()):alert("Failed to save content.")}catch(s){console.error("Error saving content:",s),alert("An error occurred while saving.")}})});
